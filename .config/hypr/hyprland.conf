#                                                                      #
#  ██╗  ██╗██╗   ██╗██████╗ ██████╗ ██╗      █████╗ ███╗   ██╗██████╗  #
#  ██║  ██║╚██╗ ██╔╝██╔══██╗██╔══██╗██║     ██╔══██╗████╗  ██║██╔══██╗ #
#  ███████║ ╚████╔╝ ██████╔╝██████╔╝██║     ███████║██╔██╗ ██║██║  ██║ #
#  ██╔══██║  ╚██╔╝  ██╔═══╝ ██╔══██╗██║     ██╔══██║██║╚██╗██║██║  ██║ #
#  ██║  ██║   ██║   ██║     ██║  ██║███████╗██║  ██║██║ ╚████║██████╔╝ #
#  ╚═╝  ╚═╝   ╚═╝   ╚═╝     ╚═╝  ╚═╝╚══════╝╚═╝  ╚═╝╚═╝  ╚═══╝╚═════╝  #
#   ___           __ _        _            ___ _                  __   #
#  / __|___ _ _  / _(_)__ _  | |__ _  _   | _ \ |  _  _ _ _ __ __/  \  #
# | (__/ _ \ ' \|  _| / _` | | '_ \ || |  |   / |_| || | ' \\ \ / () | #
#  \___\___/_||_|_| |_\__, | |_.__/\_, |  |_|_\____\_, |_||_/_\_\\__/  #
#                      |___/        |__/           |__/                #

autogenerated = 0

# Sourced Files
# source = ~/.config/hypr/myColors.conf

# Programs
{
    $terminal = kitty
    $fileManager = thunar
    $browser = librewolf

    $menu = wofi --insensitive --allow-images --show drun
    $menuToggle = pkill wofi || $menu
    $clipboard = ~/.config/scripts/clipboard.sh
    $clipboardDelete = ~/.config/scripts/clipboard.sh delete
    $emojiSelectorType = pkill wofi || rofimoji --action type
    $emojiSelectorCopy = pkill wofi || rofimoji --action copy
    $quick_cmd = pgrep "quick_cmd" || ~/.config/hypr/scripts/quick-cmd.sh
    $quick_cava = pgrep "quick_cava" || ~/.config/hypr/scripts/quick-cava.sh

    $bell = play ~/Personal/Music/sounds/bell.wav
    $startWaybar = ~/.config/waybar/start.sh
    $lock = hyprlock
    $laptopBrightnessUp = ~/.config/scripts/lumen.sh up 5
    $laptopBrightnessDown = ~/.config/scripts/lumen.sh down 5
    $gammashift = ~/.config/scripts/gammashift.sh
    $nightMode = $gammashift Temperature 4200 & $gammashift Brightness 0.5 & $gammashift Gamma 1.2
    $resetGammarelay = $gammashift Temperature 6500 & $gammashift Brightness 1.0 & $gammashift Gamma 1.0
    $brightnessUp = busctl --user -- call rs.wl-gammarelay / rs.wl.gammarelay UpdateBrightness d +0.05
    $brightnessDown = busctl --user -- call rs.wl-gammarelay / rs.wl.gammarelay UpdateBrightness d -0.05
    $temperatureUp = busctl --user -- call rs.wl-gammarelay / rs.wl.gammarelay UpdateTemperature n +500
    $temperatureDown = busctl --user -- call rs.wl-gammarelay / rs.wl.gammarelay UpdateTemperature n -500
    $volumeUp = ~/.config/scripts/sonorum.sh up 5; $bell
    $volumeDown = ~/.config/scripts/sonorum.sh down 5; $bell
    $volumeMute = ~/.config/scripts/sonorum.sh mute
    $hyprZoom = ~/.config/hypr/scripts/zoom.sh
    $panicForced = ~/.config/hypr/scripts/panic/panic.sh -ps 1
    $panicSwitch = ~/.config/hypr/scripts/panic/panic.sh -s 1
    $notificationsDismiss = makoctl dismiss --all
    $notificationsRestore = makoctl restore
    $colorPicker = notify-send "$(hyprpicker -ar)" "Copied Color to Clipboard!"
    $panicLock = $panicForced;$lock;waitpid $(pidof swaylock);$panicSwitch
    $execOnceAgain = ~/.config/hypr/scripts/exec-once-again.sh

    $screenshotSavePath = "~/Personal/Pictures/screenshots/$(date '+%F_%T_%N').png"
    $copyScreenshotArea = grimblast --notify --freeze copy area
    $copyScreenshotWindow = grimblast --notify copy output
    $saveScreenshotArea = grimblast --notify --freeze save area  $screenshotSavePath
    $saveScreenshotWindow = grimblast --notify save output $screenshotSavePath
    $appPath = $HOME/.local/share/applications
    $appLauncher = gio launch
    $youtube = $appLauncher $appPath/home-made/YouTube.desktop
    $reddit = $appLauncher $appPath/home-made/Reddit.desktop
    $whatsApp = $appLauncher $appPath/home-made/WhatsApp.desktop
    $instagram = $appLauncher $appPath/home-made/Instagram.desktop
    $telegram = $appLauncher $appPath/home-made/Telegram.desktop
}

# Env Variables
{
    env = XCURSOR_SIZE,24
    env = XDG_CURRENT_DESKTOP,Hyprland 
    env = XDG_SESSION_TYPE,wayland 
    env = XDG_SESSION_DESKTOP,Hyprland 

    env = GDK_BACKEND,wayland
    env = QT_QPA_PLATFORM,wayland;xcb
    env = QT_QPA_PLATFORMTHEME,qt5ct:qt6ct
    env = QT_WAYLAND_DISABLE_WINDOWDECORATION,1
    env = QT_AUTO_SCREEN_SCALE_FACTOR,1
    env = QT_WAYLAND_DISABLE_WINDOWDECORATION,1

    env = SDL_VIDEODRIVER,wayland 
    env = _JAVA_AWT_WM_NONREPARENTING,1
    env = WLR_NO_HARDWARE_CURSORS,1 
    env = OZONE_PLATFORM,wayland
}

# Monitors
{
    $enableLaptopMonitor = desc:BOE 0x095F, preferred, 0x0, auto
    $disableLaptopMonitor = desc:BOE 0x095F, disable
    
    monitor = $enableLaptopMonitor
    monitor = desc:AOC 27G2G8 PWPP6JA023813, 1920x1080, -1920x-700, auto
    monitor = desc:Lenovo Group Limited P27h-30 V30C0318, 1920x1080, 0x0, auto
    monitor = desc:Lenovo Group Limited TIO24Gen4T V3084BPW, 1920x1080, -410x-1080, auto
    workspace = 1, monitor:desc:AOC 27G2G8 PWPP6JA023813, default:true
    bindl = , switch:off:Lid Switch, exec, hyprctl keyword monitor $enableLaptopMonitor
    bindl = , switch:on:Lid Switch, exec, hyprctl keyword monitor $disableLaptopMonitor
}

# Startup Programs
{
    exec-once = dbus-update-activation-environment --systemd WAYLAND_DISPLAY XDG_CURRENT_DESKTOP
    exec-once = /usr/lib/polkit-kde-authentication-agent-1
    exec-once = wl-paste --type text --watch cliphist store
    exec-once = wl-paste --type image --watch cliphist store
    exec-once = easyeffects --gapplication-service
    exec-once = wl-gammarelay-rs
    exec-once = $startWaybar
    exec-once = waypaper --restore
    exec-once = hypridle
    exec-once = fcitx5 -d
    exec-once = setxkbmap de
    exec-once = mako
    exec-once = ~/.config/scripts/essential/me
}

input {
    kb_layout = at
    kb_variant =
    kb_model =
    kb_options =
    kb_rules =

    follow_mouse = 1

    touchpad {
        natural_scroll = yes
    }

    sensitivity = 0.2 # -1.0 - 1.0
}

general {
    gaps_in = 6
    gaps_out = 12
    border_size = 3
    col.active_border = rgba(ff44eeee) rgba(44eeffee) 
    col.inactive_border = rgba(595959aa)

    layout = dwindle

    # Please see https://wiki.hyprland.org/Configuring/Tearing/ before you turn this on
    allow_tearing = false
}

decoration {
    # See https://wiki.hyprland.org/Configuring/Variables/ for more

    rounding = 8
    
    blur {
        enabled = true
        size = 3
        passes = 1
    }

    shadow {
        range = 4
        render_power = 3
        color = rgba(1a1a1aee)
    }    
}

animations {
    enabled = yes

    bezier = steep, 0.05, 0.8, 0.2, 1.05
    bezier = linear, 0.0, 0.0, 1.0, 1.0

    animation = windows, 1, 6, steep
    animation = windowsOut, 1, 6, linear, popin 30%
    animation = border, 1, 10, default
    animation = borderangle, 1, 120, linear, loop
    animation = fade, 1, 6, default
    animation = workspaces, 1, 6, default
}

dwindle {
    # See https://wiki.hyprland.org/Configuring/Dwindle-Layout/ for more
    pseudotile = yes # master switch for pseudotiling. Enabling is bound to mainMod + P in the keybinds section below
    preserve_split = yes # you probably want this
}

gestures {
    # See https://wiki.hyprland.org/Configuring/Variables/ for more
    workspace_swipe = on
}

misc {
    # See https://wiki.hyprland.org/Configuring/Variables/ for more
    force_default_wallpaper = 0 # Set to 0 or 1 to disable the anime mascot wallpapers
}

# Example per-device config
# See https://wiki.hyprland.org/Configuring/Keywords/#executing for more
#  device:epic-mouse-v1 {
#      sensitivity = -0.5
#  }

# Window Rules
{
    windowrule = suppressevent maximize, class:.*

    windowrule = float,        title:(<floating>)
    windowrule = size 80% 80%, title:(<floating>)
    windowrule = float,        class:^(blueman-manager)$
    windowrule = size 80% 80%, class:^(blueman-manager)$
    windowrule = float,        class:^(nm-connection-editor)$
    windowrule = size 80% 80%, class:^(nm-connection-editor)$
    windowrule = float,        class:^(org.pulseaudio.pavucontrol)$
    windowrule = size 80% 80%, class:^(org.pulseaudio.pavucontrol)$
    windowrule = float,        class:^(org.pipewire.Helvum)$
    windowrule = size 80% 80%, class:^(org.pipewire.Helvum)$

    # Xwayland Video Bridge
    windowrule = opacity 0.0 override, class:^(xwaylandvideobridge)$
    windowrule = noanim, class:^(xwaylandvideobridge)$
    windowrule = noinitialfocus, class:^(xwaylandvideobridge)$
    windowrule = maxsize 1 1, class:^(xwaylandvideobridge)$
    windowrule = noblur, class:^(xwaylandvideobridge)$

    # Krita
    windowrule = center 1, title:^(Saving As — Krita)$
    windowrule = size 70% 70%, title:^(Saving As — Krita)$

    # Ardour
    windowrule = center 1, class:^(Ardour-[\d+\.]+)$, title:^(Session Setup)$
    windowrule = center 1, class:^(Ardour(-[\d+\.]+)?)$, title:^.*(Helm|Calf|ACE|Select|SF2).*$
    windowrule = size 50% 50%, class:^(Ardour-[\d+\.]+)$, title:^(Select|SF2).*$
}

# Keybinds
{
    # Modifiers
    $mainMod = SUPER
    $moveMod = $mainMod SHIFT
    $maltMod = $mainMod ALT
    $ctrlMod = $mainMod CTRL
    $caltMod = $ctrlMod ALT
    $lynxMod = CTRL ALT SHIFT

    # System Controls
    bindle = $mainMod, XF86AudioRaiseVolume, exec, $laptopBrightnessUp
    bindle = $mainMod, XF86AudioLowerVolume, exec, $laptopBrightnessDown
    bindle = , XF86MonBrightnessUp, exec, $laptopBrightnessUp
    bindle = , XF86MonBrightnessDown, exec, $laptopBrightnessDown
    binde = , XF86AudioRaiseVolume, exec, $volumeUp
    binde = , XF86AudioLowerVolume, exec, $volumeDown
    bind = , XF86AudioMute, exec, $volumeMute
    bind = , XF86AudioPlay, exec, playerctl play-pause
    bind = , XF86AudioPrev, exec, playerctl previous
    bind = , XF86AudioNext, exec, playerctl next
    binde = $ctrlMod, XF86AudioRaiseVolume, exec, $brightnessUp
    binde = $ctrlMod, XF86AudioLowerVolume, exec, $brightnessDown
    binde = $caltMod, XF86AudioRaiseVolume, exec, $temperatureUp
    binde = $caltMod, XF86AudioLowerVolume, exec, $temperatureDown
    bindl = $ctrlMod, N, exec, $nightMode
    bindl = $ctrlMod, M, exec, $resetGammarelay
    bind = $ctrlMod, S, exec, $copyScreenshotArea
    bind = $ctrlMod, W, exec, $copyScreenshotWindow
    bind = $caltMod, S, exec, $saveScreenshotArea
    bind = $caltMod, W, exec, $saveScreenshotWindow
    bind = $ctrlMod, C, exec, $clipboard
    bind = $caltMod, C, exec, $clipboardDelete
    bind = $ctrlMod, E, exec, $emojiSelectorType
    bind = $caltMod, E, exec, $emojiSelectorCopy
    bind = $ctrlMod, L, exec, $lock
    bind = $caltMod, L, exec, $panicLock
    bind = $ctrlMod, Q, exec, $colorPicker
    bind = $ctrlMod, F, exec, pkill easyeffects; easyeffects --gapplication-service ; notify-send "EasyEffects Restarted!"
    bind = $ctrlMod, B, exec, $startWaybar
    bind = $ctrlMod, Z, exec, $hyprZoom
    bind = $ctrlMod, H, exec, pkill hyprpaper; hyprpaper & disown
    bind = $ctrlMod, P, exec, hyprctl keyword monitor $disableLaptopMonitor
    bind = $caltMod, P, exec, hyprctl keyword monitor $enableLaptopMonitor
    bind = $ctrlMod, R, exec, $execOnceAgain

    # Hyprland Essential Controls
    bind = $mainMod, Q, exec, pkill wlogout || wlogout
    bind = $mainMod, T, togglesplit, # dwindle
    bind = $mainMod, P, pseudo,      # dwindle
    bind = $mainMod, V, toggleFloating,
    bind = $mainMod, Y, killactive,
    bind = $mainMod, F, fullscreen, 0
    bind = $maltMod, F, fullscreen, 1
    bind = $mainMod, D, exec, $panicSwitch
    bind = $maltMod, D, exec, $panicForced

    # Essential app keybinds
    bind = $mainMod, R, exec, $menuToggle
    bind = $mainMod, E, exec, $fileManager
    bind = $mainMod, C, exec, $terminal
    bind = $mainMod, B, exec, $browser

    # Convent keybinds
    bind = $mainMod, N, exec, $notificationsDismiss
    bind = $maltMod, N, exec, $notificationsRestore
    bind = $mainMod, X, exec, $quick_cmd
    bind = $mainMod, Z, exec, $quick_cava

    # Compatibility bindings
    bind = CTRL ALT, T, exec, $terminal
    bind = ALT, F4, killactive,
    # bind = $mainMod, PAGE_UP, fullscreen, 0
    # bind = $maltMod, PAGE_UP, fullscreen, 1
    # bindr = SUPER, SUPER_L, exec, $menuToggle

    # Commune
    $WS_browser = ~/.config/scripts/librewolf-workspace.sh 
    $URL_reddit = "https://www.reddit.com"
    $URL_whatsapp = "https://web.whatsapp.com"
    $URL_instagram = "https://www.instagram.com"
    $URL_bluesky = "https://bsky.app"
    $URL_telegram = "https://web.telegram.org"
    bind = $mainMod, U, exec, $WS_browser $URL_reddit $URL_whatsapp $URL_instagram $URL_bluesky $URL_telegram & disown
    bind = $mainMod, U, exec, discord
    bind = $mainMod, U, exec, thunderbird

    # Custom app keybinds
    bind = $lynxMod, A, exec, uhk-agent
    bind = $lynxMod, B, exec, $browser
    bind = $lynxMod, D, exec, discord
    bind = $lynxMod, E, exec, thunderbird
    bind = $lynxMod, F, exec, easyeffects
    bind = $lynxMod, G, exec, godot
    bind = $lynxMod, M, exec, spotify
    bind = $lynxMod, O, exec, obsidian
    bind = $lynxMod, S, exec, steam
    bind = $lynxMod, T, exec, torbrowser-launcher
    bind = $lynxMod, V, exec, virt-manager
    bind = $lynxMod, X, exec, keepassxc
    bind = $lynxMod, R, exec, $reddit
    bind = $lynxMod, W, exec, $whatsApp
    bind = $lynxMod, Y, exec, $youtube

    # Move focus with mainMod + hjkl
    bind = $mainMod, L, movefocus, r
    bind = $mainMod, H, movefocus, l
    bind = $mainMod, K, movefocus, u
    bind = $mainMod, J, movefocus, d

    # Move focus with mainMod + arrow keys
    bind = $mainMod, right, movefocus, r
    bind = $mainMod, left, movefocus, l
    bind = $mainMod, up, movefocus, u
    bind = $mainMod, down, movefocus, d

    # Move active window with moveMod + hjkl
    bind = $moveMod, L, movewindow, r
    bind = $moveMod, H, movewindow, l
    bind = $moveMod, K, movewindow, u
    bind = $moveMod, J, movewindow, d

    # Move active window with moveMod + arrow keys
    bind = $moveMod, right, movewindow, r
    bind = $moveMod, left, movewindow, l
    bind = $moveMod, up, movewindow, u
    bind = $moveMod, down, movewindow, d

    # Resize active window with maltMod + hjkl
    binde = $maltMod, L, resizeactive, 24 0
    binde = $maltMod, H, resizeactive, -24 0
    binde = $maltMod, K, resizeactive, 0 -24
    binde = $maltMod, J, resizeactive, 0 24

    # Resize acitive window with maltMod + arrow keys
    binde = $maltMod, right, resizeactive, 24 0
    binde = $maltMod, left, resizeactive, -24 0
    binde = $maltMod, up, resizeactive, 0 -24
    binde = $maltMod, down, resizeactive, 0 24

    # Move/resize windows with mainMod + LMB/RMB and dagging
    bindm = $mainMod, mouse:272, movewindow
    bindm = $mainMod, mouse:273, resizewindow

    # Switch workspaces with mainMod + [0-9]
    bind = $mainMod, 1, workspace, 1
    bind = $mainMod, 2, workspace, 2
    bind = $mainMod, 3, workspace, 3
    bind = $mainMod, 4, workspace, 4
    bind = $mainMod, 5, workspace, 5
    bind = $mainMod, 6, workspace, 6
    bind = $mainMod, 7, workspace, 7
    bind = $mainMod, 8, workspace, 8
    bind = $mainMod, 9, workspace, 9
    bind = $mainMod, 0, workspace, 10

    # Move active window to a workspace with moveMod + [0-9]
    bind = $moveMod, 1, movetoworkspace, 1
    bind = $moveMod, 2, movetoworkspace, 2
    bind = $moveMod, 3, movetoworkspace, 3
    bind = $moveMod, 4, movetoworkspace, 4
    bind = $moveMod, 5, movetoworkspace, 5
    bind = $moveMod, 6, movetoworkspace, 6
    bind = $moveMod, 7, movetoworkspace, 7
    bind = $moveMod, 8, movetoworkspace, 8
    bind = $moveMod, 9, movetoworkspace, 9
    bind = $moveMod, 0, movetoworkspace, 10

    # Move active window to a workspace silently with maltMod + [0-9]
    bind = $maltMod, 1, movetoworkspacesilent, 1
    bind = $maltMod, 2, movetoworkspacesilent, 2
    bind = $maltMod, 3, movetoworkspacesilent, 3
    bind = $maltMod, 4, movetoworkspacesilent, 4
    bind = $maltMod, 5, movetoworkspacesilent, 5
    bind = $maltMod, 6, movetoworkspacesilent, 6
    bind = $maltMod, 7, movetoworkspacesilent, 7
    bind = $maltMod, 8, movetoworkspacesilent, 8
    bind = $maltMod, 9, movetoworkspacesilent, 9
    bind = $maltMod, 0, movetoworkspacesilent, 10

    # Special Workspaces
    bind = $mainMod, A, togglespecialworkspace, magic
    bind = $moveMod, A, movetoworkspace, special:magic
    bind = $maltMod, A, movetoworkspacesilent, special:magic
    bind = $mainMod, S, togglespecialworkspace, shadowRealm
    bind = $moveMod, S, movetoworkspace, special:shadowRealm
    bind = $maltMod, S, movetoworkspacesilent, special:shadowRealm

    # Scroll through existing workspaces with mainMod + scroll / ,.
    bind = $mainMod, mouse_down, workspace, e+1
    bind = $mainMod, mouse_up, workspace, e-1
    bind = $mainMod, PERIOD, workspace, e+1
    bind = $mainMod, COMMA, workspace, e-1
}
